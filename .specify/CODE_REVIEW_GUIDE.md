# ELEMENTHIC ä»£ç å®¡æŸ¥æŒ‡å—

åŸºäºé¡¹ç›®çš„ **Spec-Driven Development** è§„èŒƒä¸ **Constitution v1.2.0** åŸåˆ™ã€‚

---

## ğŸ¤– è‡ªåŠ¨åŒ–å®¡æŸ¥æµç¨‹ (Automation First)

åœ¨æäº¤ä»»ä½•ä»£ç ä¹‹å‰ï¼Œå¿…é¡»é€šè¿‡ä»¥ä¸‹æœ¬åœ°æ£€æŸ¥ã€‚è¿™äº›æ£€æŸ¥å·²é›†æˆåˆ° **Git Hooks (Husky)** ä¸­ï¼š

1.  **é™æ€æ£€æŸ¥**: `npm run lint` (ESLint é™æ€åˆ†æç¡®ä¿ä»£ç ç¬¦åˆå®ªæ³•å‡†åˆ™)
2.  **ç±»å‹æ£€æŸ¥**: `npm run check` (Svelte-check ç¡®ä¿ç±»å‹ä¸æ¨¡æ¿å®‰å…¨)
3.  **æ ¼å¼åŒ–**: `npm run format` (Prettier ç¡®ä¿è§†è§‰ä¸€è‡´æ€§)

---

## ğŸ“‹ å®¡æŸ¥æ¸…å•

| ç»´åº¦ | æ ¸å¿ƒæ£€æŸ¥ç‚¹ | ä¸¥é‡çº§åˆ« |
|------|-----------|---------|
| **I. Svelte 5 Runes** | `$state`, `$derived`, `$props` ä½¿ç”¨è§„èŒƒ | ğŸ”´ é˜»æ–­ |
| **II. Apple UX** | è§†è§‰ç¾å­¦ã€åŠ¨ç”»ã€è‰²å½©ç³»ç»Ÿ | ğŸŸ¡ å…³é”® |
| **III. æ€§èƒ½** | é¢„åŠ è½½ã€å›¾ç‰‡ä¼˜åŒ–ã€å¸ƒå±€ç¨³å®šæ€§ | ğŸŸ¡ å…³é”® |
| **IV. ç±»å‹å®‰å…¨** | Zod v4ã€ç±»å‹æ‰©å±•é“¾ | ğŸ”´ é˜»æ–­ |
| **V. æ¶æ„** | ä¸‰å±‚æ•°æ®ã€OCCã€$env å®‰å…¨ | ğŸ”´ é˜»æ–­ |
| **VI. é”™è¯¯å¤„ç†** | ç¼–è¯‘è­¦å‘Šã€SSR/CSR è¾¹ç•Œ | ğŸŸ¡ å…³é”® |
| **VII. ä»£ç ä¼˜é›…** | Essential Luxury åŸåˆ™ | ğŸŸ¢ å»ºè®® |
| **VIII. è§„èŒƒé©±åŠ¨** | Spec â†’ Plan â†’ Task è¿½æº¯ | ğŸ”´ é˜»æ–­ |

---

## ğŸ” è¯¦ç»†å®¡æŸ¥è§„åˆ™

### I. SvelteKit + Svelte 5 Protocol

```diff
+ âœ… å¿…é¡»ä½¿ç”¨ $state, $derived, $props (å¯ç”¨è§£æ„)
+ âœ… å¼‚æ­¥æ•°æ®å¿…é¡»é€šè¿‡ TanStack Query v5 ç®¡ç†
+ âœ… ä¸»æ•°æ®å¿…é¡»é€šè¿‡ +page.server.ts è¿›è¡Œ SSR
+ âœ… ä½¿ç”¨ {#snippet} å¤„ç†æœ¬åœ° UI é€»è¾‘
- âŒ ç¦æ­¢ä½¿ç”¨æ—§ç‰ˆ store (writable, readable)
- âŒ ç¦æ­¢åœ¨å®¢æˆ·ç«¯ç›´æ¥ fetch ä¸»æ•°æ®
```

### II. Apple UX Style

| å…ƒç´  | æ£€æŸ¥é¡¹ |
|------|--------|
| **å­—ä½“** | Inter / Outfitï¼Œé¿å…ç³»ç»Ÿé»˜è®¤ |
| **é¢œè‰²** | HSL è°ƒè‰²ï¼Œéµå¾ª `--color-*` CSS å˜é‡ |
| **åŠ¨ç”»** | ä»… `transform` / `opacity`ï¼Œä½¿ç”¨ `--ease-apple-spring` |
| **è¿‡æ¸¡** | Svelte åŸç”Ÿ `transition:` å’Œ `animate:flip` |

### III. Performance

```diff
+ âœ… é“¾æ¥åŒ…å« data-sveltekit-preload-data="hover"
+ âœ… å›¾ç‰‡ä½¿ç”¨ @sveltejs/enhanced-img
+ âœ… å›¾ç‰‡è®¾ç½® decoding="async" loading="lazy" aspect-ratio
- âŒ ç¦æ­¢ä½¿ç”¨åŸç”Ÿ <img> æ ‡ç­¾
- âŒ ç¦æ­¢ç¼ºå°‘ aspect-ratio å¯¼è‡´ CLS
```

### IV. Type Safety

**ç±»å‹é“¾**: `pocketbase-types.ts` â†’ `types.ts` â†’ `schemas.ts (Zod v4)`

```diff
+ âœ… æ‰€æœ‰ schema ä½¿ç”¨ zod (v4)
+ âœ… Superforms ä½¿ç”¨ zod4 adapter
- âŒ ç¦æ­¢ä½¿ç”¨ zod/v3 æ—§ç‰ˆå¯¼å…¥
- âŒ ç¦æ­¢ç¡¬ç¼–ç ç±»å‹
```

### V. Architecture

```diff
+ âœ… æ•æ„Ÿæ“ä½œä½¿ç”¨ withAdmin åŒ…è£…
+ âœ… æœåŠ¡ç«¯å¯†é’¥ä½¿ç”¨ $env/dynamic/private
+ âœ… åº“å­˜æ›´æ–°å®ç° OCC éªŒè¯
- âŒ ç¦æ­¢åœ¨å®¢æˆ·ç«¯æš´éœ²ç§æœ‰ç¯å¢ƒå˜é‡
```

### VI. Error Handling

```diff
+ âœ… ç¼–è¯‘è­¦å‘Šç«‹å³ä¿®å¤ (Compiler First)
+ âœ… æ˜ç¡®åŒºåˆ† SSR / CSR ä»£ç è¾¹ç•Œ
+ âœ… API è·¯ç”±ä½¿ç”¨ apiHandler åŒ…è£…
```

### VII. Code Elegance

| åŸåˆ™ | æè¿° |
|------|------|
| **ç®€æ´** | ä»£ç è¡Œæ•°æœ€å°åŒ–ï¼Œä¿æŒå¯è¯»æ€§ |
| **å£°æ˜å¼** | ä¼˜å…ˆå£°æ˜å¼ï¼Œé¿å…å‘½ä»¤å¼ |
| **å¹³å°ä¼˜å…ˆ** | ä¼˜å…ˆåŸç”ŸåŠŸèƒ½ï¼Œé¿å…ç¬¬ä¸‰æ–¹åº“è†¨èƒ€ |

### VIII. Spec-Driven Workflow

**è¿½æº¯é“¾**: `Constitution â†’ Spec â†’ Plan â†’ Tasks â†’ Code`

```diff
+ âœ… æ¯è¡Œä»£ç å¿…é¡»è¿½æº¯åˆ°å·²æ‰¹å‡†çš„ Task
+ âœ… åç¦» plan.md å¿…é¡»æœ‰ä¹¦é¢ä¿®æ­£
- âŒ ç¦æ­¢æ— è§„èŒƒçš„"æ„Ÿæ€§ç¼–ç¨‹"
```

---

## âš ï¸ å®¡æŸ¥åŸåˆ™

> **Pull Requests è¿å Constitution åŸåˆ™å¿…é¡»è¢«æ‹’ç»ï¼Œæ— è®ºåŠŸèƒ½æ˜¯å¦æ­£ç¡®ã€‚**

- ğŸ”´ **é˜»æ–­**: å¿…é¡»ä¿®å¤åæ‰èƒ½åˆå¹¶
- ğŸŸ¡ **å…³é”®**: å¼ºçƒˆå»ºè®®ä¿®å¤
- ğŸŸ¢ **å»ºè®®**: ä¸é˜»æ–­åˆå¹¶

---

**ç‰ˆæœ¬**: 1.0.0 | **åˆ›å»ºæ—¥æœŸ**: 2026-01-31
